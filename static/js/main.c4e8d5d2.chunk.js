(this["webpackJsonpget-posts"]=this["webpackJsonpget-posts"]||[]).push([[0],{106:function(t,e,n){},126:function(t,e,n){},195:function(t,e,n){},196:function(t,e,n){"use strict";n.r(e);var s=n(0),o=n.n(s),c=n(10),r=n.n(c),a=n(16),i=n(34),l="/".concat("get-posts"),u=(n(105),n(106),n(95)),d=n(1),j=function(){return Object(d.jsxs)("svg",{className:"spinner",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6668 12C16.6668 14.5773 14.5775 16.6667 12.0002 16.6667C9.42283 16.6667 7.3335 14.5773 7.3335 12H5.3335C5.3335 15.6819 8.31826 18.6667 12.0002 18.6667C15.6821 18.6667 18.6668 15.6819 18.6668 12C18.6668 8.31811 15.6821 5.33334 12.0002 5.33334V7.33334C14.5775 7.33334 16.6668 9.42268 16.6668 12Z",fill:"url(#paint0_angular)"}),Object(d.jsx)("defs",{children:Object(d.jsxs)("radialGradient",{id:"paint0_angular",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.0002 12) rotate(-180) scale(13.3333)",children:[Object(d.jsx)("stop",{offset:"0.248667",stopColor:"currentColor"}),Object(d.jsx)("stop",{offset:"1",stopColor:"currentColor",stopOpacity:"0"})]})})]})},p=n(200),b=n(201),h=n(199),O=n(28),f=n(30),g=n.n(f),v=n(43),m=n(27),x=n(5),w=n(25),C=n(44),S=n.n(C),_=n(79),N=new function t(){Object(m.a)(this,t),this.getPosts=function(t){return S.a.get("/posts",Object(w.a)({},t))}};S.a.interceptors.request.use(function(){var t=Object(v.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Request",e.headers),t.abrupt("return",Object(w.a)(Object(w.a)({},e),{},{baseURL:"https://jsonplaceholder.typicode.com",headers:Object(w.a)({"Content-Type":"application/json","App-Version":_.a,"App-Platform":"web","Access-Control-Allow-Origin":"*"},e.headers)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return console.log("Request",Object(w.a)({url:config.url},config.headers)),Promise.reject(t)}));var y=new function t(){Object(m.a)(this,t),this.posts=N},k={PostsStore:new function t(){var e=this;Object(m.a)(this,t),this.loading=!1,this.posts=null,this.error=null,this.getPosts=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,y.posts.getPosts().then((function(t){e.posts=t.data,e.error=null})).catch((function(t){e.error=t})).finally((function(){e.loading=!1}));case 2:case"end":return t.stop()}}),t)}))),this.resetStore=function(){e.loading=!1,e.posts=null,e.error=null},Object(x.e)(this,{loading:x.f,posts:x.f,error:x.f,getPosts:x.b,resetStore:x.b})}},P=o.a.createContext(k),I=function(){return o.a.useContext(P)},M=(n(126),["black","orange","cadetblue","green","gray","pink","yellow"]),R=Object(O.a)((function(){var t,e=I().PostsStore,n=Object(s.useState)([]),o=Object(a.a)(n,2),c=o[0],r=o[1],l=Object(s.useState)([]),O=Object(a.a)(l,2),f=O[0],g=O[1],v=Object(x.h)(e.posts),m=(null===f||void 0===f?void 0:f.length)>0?f:v;Object(s.useEffect)((function(){e.getPosts()}),[]),Object(s.useEffect)((function(){var t=null===v||void 0===v?void 0:v.map((function(t){return t.userId})),e=new Set(t);r(Object(u.a)(e)),g(v)}),[e.posts]);var w=function(){var t,e,n=(t=0,e=M.length-1,t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t);return M[n]};return Object(d.jsxs)("div",{className:"home-page",children:[Object(d.jsx)("div",{className:"home-page__authors",children:(null===c||void 0===c?void 0:c.length)?Object(d.jsxs)(d.Fragment,{children:[null===c||void 0===c?void 0:c.map((function(t){return Object(d.jsx)(p.a,{className:"author",onClick:function(){return e=t,void g(v.filter((function(t){return t.userId===e})));var e},children:t},t)})),Object(d.jsx)(p.a,{className:"author",onClick:function(){return g([])},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})]}):Object(d.jsx)(j,{})}),Object(d.jsx)("div",{className:"home-page__posts",children:(null===(t=e.posts)||void 0===t?void 0:t.length)?Object(d.jsx)(d.Fragment,{children:m.map((function(t){return Object(d.jsxs)("div",{className:"post-item",children:[Object(d.jsx)(b.a,{title:t.title,children:Object(d.jsx)("div",{className:"post-item__title",children:t.title})}),Object(d.jsx)(h.a,{style:{backgroundColor:w(),height:"5px"}}),Object(d.jsx)("div",{className:"post-item__description",children:t.body}),Object(d.jsxs)("div",{className:"post-item__author",children:["\u0410\u0432\u0442\u043e\u0440: ",t.userId]}),Object(d.jsx)(i.a,{to:"/post/".concat(t.id),children:Object(d.jsx)(p.a,{className:"btn primary stretched",style:{backgroundColor:w()},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]},t.id)}))}):Object(d.jsx)(j,{})})]})})),A=(n(195),Object(O.a)((function(t){var e=I().PostsStore,n=Object(s.useState)(null),o=Object(a.a)(n,2),c=o[0],r=o[1],i=Object(x.h)(e.posts);Object(s.useEffect)((function(){l(+t.page)}),[]);var l=function(t){var e=null===i||void 0===i?void 0:i.find((function(e){return e.id===t}));r(e)};return Object(d.jsxs)("div",{className:"post-page",children:[Object(d.jsx)("div",{className:"post-page__title",children:null===c||void 0===c?void 0:c.title}),Object(d.jsx)("div",{className:"post-page__description",children:null===c||void 0===c?void 0:c.body}),Object(d.jsxs)("div",{className:"post-page__author",children:["\u0410\u0432\u0442\u043e\u0440: ",null===c||void 0===c?void 0:c.userId]})]})}))),E=Object(O.a)((function(){window.innerWidth;var t=I(),e=(t.UserStore,t.SnackbarStore,t.WsStore,Object(s.useState)(null)),n=Object(a.a)(e,2),o=(n[0],n[1],Object(s.useState)(null)),c=Object(a.a)(o,2),r=(c[0],c[1],Object(s.useState)(!1)),u=Object(a.a)(r,2);u[0],u[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(i.c,{basepath:"".concat(""===l?"/":l),children:[Object(d.jsx)(R,{path:"home"}),Object(d.jsx)(A,{path:"post/:page"}),Object(d.jsx)(i.b,{from:"/",to:"".concat(l,"/home"),noThrow:!0})]})})}));r.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))},79:function(t){t.exports=JSON.parse('{"a":"1.0.0"}')}},[[196,1,2]]]);