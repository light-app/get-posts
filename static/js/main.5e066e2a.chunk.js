(this["webpackJsonpget-posts"]=this["webpackJsonpget-posts"]||[]).push([[0],{100:function(t,e,n){},122:function(t,e,n){},191:function(t,e,n){},192:function(t,e,n){"use strict";n.r(e);var s=n(0),c=n.n(s),o=n(13),r=n.n(o),a=n(34),i="/".concat("get-posts"),l=(n(99),n(100),n(87)),u=n(5),j=n(3),d=function(){return Object(j.jsxs)("svg",{className:"spinner",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6668 12C16.6668 14.5773 14.5775 16.6667 12.0002 16.6667C9.42283 16.6667 7.3335 14.5773 7.3335 12H5.3335C5.3335 15.6819 8.31826 18.6667 12.0002 18.6667C15.6821 18.6667 18.6668 15.6819 18.6668 12C18.6668 8.31811 15.6821 5.33334 12.0002 5.33334V7.33334C14.5775 7.33334 16.6668 9.42268 16.6668 12Z",fill:"url(#paint0_angular)"}),Object(j.jsx)("defs",{children:Object(j.jsxs)("radialGradient",{id:"paint0_angular",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.0002 12) rotate(-180) scale(13.3333)",children:[Object(j.jsx)("stop",{offset:"0.248667",stopColor:"currentColor"}),Object(j.jsx)("stop",{offset:"1",stopColor:"currentColor",stopOpacity:"0"})]})})]})},p=n(196),h=n(197),b=n(195),O=n(29),f=n(27),g=n(9),v=n(10),m=n(20),x=n.n(m),w=n(6),C=n(1),_=n(43),N=n.n(_),y=n(76),S=new(Object(g.a)((function t(){Object(v.a)(this,t),this.getPosts=function(t){return N.a.get("/posts",Object(C.a)({},t))}})));N.a.interceptors.request.use(function(){var t=Object(f.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Request",e.headers),t.abrupt("return",Object(C.a)(Object(C.a)({},e),{},{baseURL:"https://jsonplaceholder.typicode.com",headers:Object(C.a)({"Content-Type":"application/json","App-Version":y.a,"App-Platform":"web","Access-Control-Allow-Origin":"*"},e.headers)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return console.log("Request",Object(C.a)({url:config.url},config.headers)),Promise.reject(t)}));var k=new(Object(g.a)((function t(){Object(v.a)(this,t),this.posts=S}))),P={PostsStore:new(Object(g.a)((function t(){var e=this;Object(v.a)(this,t),this.loading=!1,this.posts=null,this.error=null,this.getPosts=Object(f.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,k.posts.getPosts().then((function(t){e.posts=t.data,e.error=null})).catch((function(t){e.error=t})).finally((function(){e.loading=!1}));case 2:case"end":return t.stop()}}),t)}))),this.resetStore=function(){e.loading=!1,e.posts=null,e.error=null},Object(w.e)(this,{loading:w.f,posts:w.f,error:w.f,getPosts:w.b,resetStore:w.b})})))},I=c.a.createContext(P),M=function(){return c.a.useContext(I)},R=(n(122),["black","orange","cadetblue","green","gray","pink","yellow"]),A=""===i?"":i,E=Object(O.a)((function(){var t,e=M().PostsStore,n=Object(s.useState)([]),c=Object(u.a)(n,2),o=c[0],r=c[1],i=Object(s.useState)([]),O=Object(u.a)(i,2),f=O[0],g=O[1],v=Object(w.h)(e.posts),m=(null===f||void 0===f?void 0:f.length)>0?f:v;Object(s.useEffect)((function(){e.getPosts()}),[]),Object(s.useEffect)((function(){var t=null===v||void 0===v?void 0:v.map((function(t){return t.userId})),e=new Set(t);r(Object(l.a)(e)),g(v)}),[e.posts]);var x=function(){var t,e,n=(t=0,e=R.length-1,t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t);return R[n]};return Object(j.jsxs)("div",{className:"home-page",children:[Object(j.jsx)("div",{className:"home-page__authors",children:null!==o&&void 0!==o&&o.length?Object(j.jsxs)(j.Fragment,{children:[null===o||void 0===o?void 0:o.map((function(t){return Object(j.jsx)(p.a,{className:"author",onClick:function(){return e=t,void g(v.filter((function(t){return t.userId===e})));var e},children:t},t)})),Object(j.jsx)(p.a,{className:"author",onClick:function(){return g([])},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})]}):Object(j.jsx)(d,{})}),Object(j.jsx)("div",{className:"home-page__posts",children:null!==(t=e.posts)&&void 0!==t&&t.length?Object(j.jsx)(j.Fragment,{children:m.map((function(t){return Object(j.jsxs)("div",{className:"post-item",children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(h.a,{title:t.title,children:Object(j.jsx)("div",{className:"post-item__title",children:t.title})}),Object(j.jsx)(b.a,{style:{backgroundColor:x(),height:"5px"}})]}),Object(j.jsx)("div",{className:"post-item__description",children:t.body}),Object(j.jsxs)("div",{className:"post-item__author",children:["\u0410\u0432\u0442\u043e\u0440: ",t.userId]}),Object(j.jsx)(a.a,{to:"".concat(A,"/post/").concat(t.id),children:Object(j.jsx)(p.a,{className:"btn primary stretched",style:{backgroundColor:x()},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]},t.id)}))}):Object(j.jsx)(d,{})})]})})),q=(n(191),Object(O.a)((function(t){var e=M().PostsStore,n=Object(s.useState)(null),c=Object(u.a)(n,2),o=c[0],r=c[1],a=Object(w.h)(e.posts);Object(s.useEffect)((function(){i(+t.page)}),[]);var i=function(t){var e=null===a||void 0===a?void 0:a.find((function(e){return e.id===t}));r(e)};return Object(j.jsxs)("div",{className:"post-page",children:[Object(j.jsx)("div",{className:"post-page__title",children:null===o||void 0===o?void 0:o.title}),Object(j.jsx)("div",{className:"post-page__description",children:null===o||void 0===o?void 0:o.body}),Object(j.jsxs)("div",{className:"post-page__author",children:["\u0410\u0432\u0442\u043e\u0440: ",null===o||void 0===o?void 0:o.userId]})]})}))),F=Object(O.a)((function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(a.c,{basepath:"".concat(""===i?"/":i),children:[Object(j.jsx)(E,{path:"home"}),Object(j.jsx)(q,{path:"post/:page"}),Object(j.jsx)(a.b,{from:"/",to:"".concat(i,"/home"),noThrow:!0})]})})}));r.a.render(Object(j.jsx)(F,{}),document.getElementById("root"))},76:function(t){t.exports=JSON.parse('{"a":"1.0.0"}')}},[[192,1,2]]]);